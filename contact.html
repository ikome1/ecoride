<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/contact.css">
    <link rel="stylesheet" href="css/home.css">
    <title>EcoRide - Contact</title>
</head>
<body>
    <nav class="navbar">
        <div class="logo">
            <img src="images/EcoRide üåø.png" alt="Logo">
        </div>
        <ul class="nav-links">
            <li><a href="home.html">Accueil</a></li>
            <li><a href="covoiurage-disponibles.html">Covoiturages</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="login.html">Connexion</a></li>
        </ul>
    </nav>

    <div class="contact-hero">
        <h1>üìß Contactez-nous</h1>
        <p>Une question ? Notre √©quipe est l√† pour vous aider</p>
    </div>

    <div class="contact-container">
        <div class="contact-grid">
            <div class="contact-card">
                <span class="contact-icon">üìß</span>
                <h3>Email</h3>
                <p><a href="mailto:contact@ecoride.fr" class="contact-link">contact@ecoride.fr</a></p>
            </div>
            
            <div class="contact-card">
                <span class="contact-icon">üìû</span>
                <h3>T√©l√©phone</h3>
                <p><a href="tel:+33123456789" class="contact-link">01 23 45 67 89</a></p>
            </div>
            
            <div class="contact-card">
                <span class="contact-icon">üìç</span>
                <h3>Adresse</h3>
                <p>123 Avenue √âcologique<br>75001 Paris, France</p>
            </div>
        </div>

        <div class="contact-form-card">
            <h2>Envoyez-nous un message</h2>
            <form id="contactForm">
                <div class="form-group">
                    <label for="email">Email <span class="required">*</span></label>
                    <input type="email" id="email" name="email" required placeholder="votre.email@exemple.com">
                </div>
                
                <div class="form-group">
                    <label for="name">Nom complet</label>
                    <input type="text" id="name" name="name" placeholder="Votre nom">
                </div>
                
                <div class="form-group">
                    <label for="subject">Sujet <span class="required">*</span></label>
                    <select id="subject" name="subject" required>
                        <option value="">S√©lectionnez un sujet</option>
                        <option value="question">Question g√©n√©rale</option>
                        <option value="reservation">Probl√®me de r√©servation</option>
                        <option value="compte">Probl√®me de compte</option>
                        <option value="paiement">Question de paiement</option>
                        <option value="autre">Autre</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="message">Message <span class="required">*</span></label>
                    <textarea id="message" name="message" required placeholder="√âcrivez votre message ici..."></textarea>
                </div>
                
                <button type="submit" class="submit-btn">
                    <span>üì§</span>
                    Envoyer le message
                </button>
            </form>
            
            <div id="successMessage" class="success-message">
                <div class="success-icon">‚úÖ</div>
                <h3>Message envoy√© avec succ√®s !</h3>
                <p>Nous vous r√©pondrons dans les plus brefs d√©lais.</p>
            </div>
        </div>

        <div class="map-section">
            <h2>üìç Nous trouver</h2>
            <div class="map-placeholder">
                <div>
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üó∫Ô∏è</div>
                    <div>123 Avenue √âcologique<br>75001 Paris, France</div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/userManager.js"></script>
    <script src="js/apiClient.js"></script>
    <script src="js/navbar.js"></script>
    <script>
        // R√©cup√©rer les param√®tres de l'URL si on vient de la page covoiturage
        const urlParams = new URLSearchParams(window.location.search);
        const tripId = urlParams.get('trip');
        const driverName = urlParams.get('driver');

        // Si on vient d'un covoiturage, pr√©-remplir le formulaire
        if (driverName) {
            document.getElementById('subject').value = 'question';
            document.getElementById('message').value = `Bonjour,\n\nJe souhaite contacter le chauffeur ${decodeURIComponent(driverName)} concernant le trajet #${tripId}.\n\n`;
        }

        // Gestion du formulaire
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // R√©cup√©rer les valeurs
            const email = document.getElementById('email').value;
            const name = document.getElementById('name').value;
            const subject = document.getElementById('subject').value;
            const message = document.getElementById('message').value;
            
            // Validation
            if (!email || !subject || !message) {
                alert('Veuillez remplir tous les champs obligatoires.');
                return;
            }
            
            // Simuler l'envoi (mode d√©mo)
            console.log('Message envoy√©:', { email, name, subject, message });
            
            // Afficher le message de succ√®s
            const successMessage = document.getElementById('successMessage');
            successMessage.classList.add('active');
            
            // R√©initialiser le formulaire
            this.reset();
            
            // Masquer le message apr√®s 5 secondes
            setTimeout(() => {
                successMessage.classList.remove('active');
            }, 5000);
            
            // Scroll vers le message de succ√®s
            successMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        });

        // Animation au scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observer les cartes de contact
        document.querySelectorAll('.contact-card').forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(card);
        });
    </script>
</body>
</html>
